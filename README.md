# 1C-TestTask
Тестовое задания, которое я выполнил для 1С. Из отличительных черт - это использование ECSLite и отказ от использования физики и прочих компонентов.

Задача была реализовать перемещение объектов (кругов) по полю и их возможность обнаруживать другие объекты, попадающие в их сектор обзора. В условиях также говорилось о запрете использования Collider, NavMesh и Physic. Не сложная задача, поэтому ради интереса и возможности попрактиковаться я использовал ECSLite при разработке.

Саму задачу я решил так: Для каждого объекта проверил нахождение других на заданном радиусе и для них совершил проверку вхождения в сектор обзора – вкратце, просто сравнение угла обзора с углом между направлением объекта и точкой ближайшей к сектору проверяемого объекта.

Куда интереснее была работа с ECS. В первую очередь столкнулся с малым количеством обучающего материала и документации по фреймворку. Да, она есть, но искать её заметно сложнее чем использование привычной документации Unity. Но методом тыка и изучения других работ всё же смог осилить. Так что поделюсь впечатлениями:
-	В первую очередь хочу выделить непривычность самого Data Oriented Design. Мозг первое время отказывался воспринимать компоненты и сущности отдельно от объектов на сцене.
-	С самими системами на базовом уровне проблем совсем не было. Я быстро понял, как работают пулы и фильтры. Хотя крайне непривычно видеть, что вся информация находится в открытом доступе и тебе почти не нужно заботиться о том, как ты будешь передавать её, нужно лишь отфильтровать то с чем будешь работать. Отсутствие привычного private у большинства полей компонентов и свойств / методов для доступа первое время резало глаза.
-	Куда большим удивлением было почти полное отсутствие реактивности. Первое время я хотел обрабатывать события, но вскоре понял, что это будет куда сложнее чем обычно. Благо вовремя найденная статья на хабре подтвердила мои догадки – лучше использовать флаги и тэги. Приняв это, я обрёл более целостное видение ECS и того как в ней происходит обмен информацией в ней.
-	 В связи с этим стоит отметить структуру проекта. В первую очередь в глаза бросается куда большее количество классов, структур и прочих мелких файликов нужных для работы. Для ECS естественно создавать множество тэгов и флагов, которые живут всего один кадр и нужны для запуска какой-либо реакции у системы (например, использованный мной тэг NewEntity). Но вместе с этим хочу отметить лаконичность самого кода что в них пишется –соблюдать принцип единой ответственности в ECS куда проще.

Подытоживая хочу сказать, что ECS меня приятно удивила, в первую очередь открытостью информации, что мне кажется крайне удобным, и лаконичностью. Обязательно попробую её на одном из своих следующих проектов. 

![image](https://github.com/Ylfgard/1C-TestTask/assets/71381289/c5bffed2-c9e5-4914-93db-8dccc841aed1)

![image](https://github.com/Ylfgard/1C-TestTask/assets/71381289/014e63c4-1eb5-4f0b-ae9b-90ccabab04d2)
